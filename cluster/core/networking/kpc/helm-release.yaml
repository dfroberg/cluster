---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: kubernetes-pfsense-controller
  namespace: networking
spec:
  interval: 5m
  chart:
    spec:
      # renovate: registryUrl=https://travisghansen.github.io/kubernetes-pfsense-controller-chart/
      chart: kubernetes-pfsense-controller
      version: 0.1.2
      sourceRef:
        kind: HelmRepository
        name: kpc-charts
        namespace: flux-system
  values:
    pfsense:
      url: ${PFSENSE_URL}
      insecure: ${PFSENSE_INSECURE}
      username: ${PFSENSE_USERNAME}
      password: ${PFSENSE_PASSWORD}
    haproxy-declarative:
      enabled: true
